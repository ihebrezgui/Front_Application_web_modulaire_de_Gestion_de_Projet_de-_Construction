<div class="container mt-4">
  <h2>Ajouter un Paiement</h2>
  <form [formGroup]="paiementForm" (ngSubmit)="onSubmit()">
    
    <!-- Montant Payé -->
    <div class="mb-3">
      <label for="montantPaye" class="form-label">Montant Payé</label>
      <input type="number" class="form-control" id="montantPaye" formControlName="montantPaye" required>
    </div>

    <!-- Date de Paiement -->
    <div class="mb-3">
      <label for="datePaiement" class="form-label">Date de Paiement</label>
      <input type="date" class="form-control" id="datePaiement" formControlName="datePaiement" required>
    </div>

    <!-- Mode de Paiement -->
    <div class="mb-3">
      <label for="modePaiement" class="form-label">Mode de Paiement</label>
      <select class="form-select" id="modePaiement" formControlName="modePaiement" required>
        <option *ngFor="let mode of modePaiement" [value]="mode">{{ mode }}</option>
      </select>
    </div>

    <!-- Facture associée -->
    <div class="mb-3">
      <label for="facture" class="form-label">Facture</label>
      <select class="form-select" id="facture" formControlName="facture" required>
        <option *ngFor="let facture of factures" [value]="facture.idFacture">Facture #{{ facture.idFacture }}</option>
      </select>
    </div>

    <!-- Échéance associée (optionnelle, visible uniquement si 'Echeance' est sélectionné) -->
    <div class="mb-3" *ngIf="paiementForm.get('modePaiement')?.value === 'Echeance'">
      <label for="nbreEcheances" class="form-label">Nombre d'Échéances</label>
      <input type="number" class="form-control" id="nbreEcheances" formControlName="nbreEcheances">
    </div>

    <!-- Bouton de soumission -->
    <button type="submit" class="btn btn-primary" [disabled]="paiementForm.invalid">Ajouter Paiement</button>
  </form>
</div>
